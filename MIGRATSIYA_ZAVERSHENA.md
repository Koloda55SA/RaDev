# ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞: –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã –Ω–∞ C# API

## üéâ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. ‚úÖ –ß–∞—Ç (–ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∏ –ì–ª–æ–±–∞–ª—å–Ω—ã–π)
- **–§–∞–π–ª**: `app/chat/page.tsx`
- **–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
  - –ó–∞–º–µ–Ω–µ–Ω Firebase Firestore –Ω–∞ `apiClient.getPrivateChat()` –∏ `apiClient.sendPrivateMessage()`
  - –ó–∞–º–µ–Ω–µ–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ —á–µ—Ä–µ–∑ Firebase Storage –Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫—É —á–µ—Ä–µ–∑ API
  - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω polling –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π (–∫–∞–∂–¥—ã–µ 3 —Å–µ–∫—É–Ω–¥—ã)
  - –û–±–Ω–æ–≤–ª–µ–Ω—ã —Ç–∏–ø—ã —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å C# API

- **–§–∞–π–ª**: `components/chat/GlobalChat.tsx`
- **–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
  - –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `apiClient.getGlobalChat()` –∏ `apiClient.sendGlobalMessage()`
  - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω polling –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

### 2. ‚úÖ –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–§–∞–π–ª**: `app/profile/page.tsx`
- **–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
  - –ó–∞–º–µ–Ω–µ–Ω `getUserProfile()` –Ω–∞ `apiClient.getUserProfile()`
  - –ó–∞–º–µ–Ω–µ–Ω `updateUserProfile()` –Ω–∞ `apiClient.updateProfile()`
  - –ó–∞–º–µ–Ω–µ–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ –∞–≤–∞—Ç–∞—Ä–∞ —á–µ—Ä–µ–∑ Firebase Storage –Ω–∞ `apiClient.uploadAvatar()`
  - –û–±–Ω–æ–≤–ª–µ–Ω—ã —Ç–∏–ø—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å C# API

### 3. ‚úÖ –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- **–§–∞–π–ª**: `lib/api/socialApi.ts` (–Ω–æ–≤—ã–π)
- **–§—É–Ω–∫—Ü–∏–∏**:
  - `searchUsersByNickname()` - –ø–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  - `getFollowingList()` - —Å–ø–∏—Å–æ–∫ –ø–æ–¥–ø–∏—Å–æ–∫
  - `getFollowersList()` - —Å–ø–∏—Å–æ–∫ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
  - `getSubscriptionData()` - –¥–∞–Ω–Ω—ã–µ –æ –ø–æ–¥–ø–∏—Å–∫–∞—Ö
  - `followUser()` / `unfollowUser()` - –ø–æ–¥–ø–∏—Å–∫–∞/–æ—Ç–ø–∏—Å–∫–∞
  - `getUserById()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ ID

- **–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã**:
  - `app/chat/page.tsx` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `socialApi` –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ –ø–æ–¥–ø–∏—Å–æ–∫
  - `app/users/search/page.tsx` - –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–≤–µ–¥–µ–Ω –Ω–∞ C# API
  - `app/users/[userId]/page.tsx` - –ø–µ—Ä–µ–≤–µ–¥–µ–Ω –Ω–∞ C# API

### 4. ‚úÖ –õ–∞–π–∫–∏ –ø—Ä–æ—Ñ–∏–ª–µ–π
- **–§–∞–π–ª**: `app/users/[userId]/page.tsx`
- **–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
  - –ó–∞–º–µ–Ω–µ–Ω—ã `likeProfile()` –∏ `unlikeProfile()` –Ω–∞ `apiClient.likeProfile()` –∏ `apiClient.unlikeProfile()`
  - –£–±—Ä–∞–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç Firebase –¥–ª—è –ø–æ–¥—Å—á–µ—Ç–∞ –ª–∞–π–∫–æ–≤

### 5. ‚úÖ API Client
- **–§–∞–π–ª**: `lib/api/client.ts`
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏—è**:
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ Firebase —Ç–æ–∫–µ–Ω–∞ –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
  - –î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã –¥–ª—è —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π:
    - `getFollowing()` / `getFollowers()` - –ø–æ–¥–ø–∏—Å–∫–∏
    - `getSubscriptionData()` - –¥–∞–Ω–Ω—ã–µ –æ –ø–æ–¥–ø–∏—Å–∫–∞—Ö
    - `getUserProfile()` - –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - –í—Å–µ –º–µ—Ç–æ–¥—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç Firebase —Ç–æ–∫–µ–Ω –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

## üìã –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- ‚úÖ **Firebase Authentication** - –¥–ª—è –≤—Ö–æ–¥–∞, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, Google OAuth
- ‚úÖ –í—Å–µ —Ç–æ–∫–µ–Ω—ã Firebase –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ C# API

### –î–∞–Ω–Ω—ã–µ
- ‚úÖ **C# Backend API** - –¥–ª—è –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö:
  - üí¨ –ß–∞—Ç (–≥–ª–æ–±–∞–ª—å–Ω—ã–π –∏ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π)
  - üë§ –ü—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  - üìÅ –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ (–∞–≤–∞—Ç–∞—Ä—ã, —Ñ–∞–π–ª—ã –≤ —á–∞—Ç–µ)
  - üîî –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–ª–∞–π–∫–∏, –ø–æ–¥–ø–∏—Å–∫–∏, –ø–æ–∏—Å–∫)
  - üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

## üîß –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ Firebase**:
   ```typescript
   const { signInWithEmail } = useAuth() // Firebase
   await signInWithEmail(email, password)
   ```

2. **API Client –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç Firebase —Ç–æ–∫–µ–Ω**:
   ```typescript
   await apiClient.sendGlobalMessage('–ü—Ä–∏–≤–µ—Ç!')
   // –í–Ω—É—Ç—Ä–∏: auth.currentUser.getIdToken() ‚Üí –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å —Ç–æ–∫–µ–Ω–æ–º
   ```

3. **C# Backend –ø—Ä–æ–≤–µ—Ä—è–µ—Ç Firebase —Ç–æ–∫–µ–Ω –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å**

## üìÅ –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:
- `lib/api/socialApi.ts` - API –¥–ª—è —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- `components/chat/GlobalChat.tsx` - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —á–∞—Ç–∞

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- `app/chat/page.tsx` - –ø—Ä–∏–≤–∞—Ç–Ω—ã–π —á–∞—Ç
- `app/profile/page.tsx` - –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `app/users/search/page.tsx` - –ø–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `app/users/[userId]/page.tsx` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `lib/api/client.ts` - API –∫–ª–∏–µ–Ω—Ç (–¥–æ–±–∞–≤–ª–µ–Ω—ã —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã)

## ‚ö†Ô∏è –ß—Ç–æ –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å

### 1. C# Backend –¥–æ–ª–∂–µ–Ω:
- ‚úÖ –ü—Ä–∏–Ω–∏–º–∞—Ç—å Firebase —Ç–æ–∫–µ–Ω—ã –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ `Authorization: Bearer <token>`
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Ç–æ–∫–µ–Ω —á–µ—Ä–µ–∑ Firebase Admin SDK
- ‚úÖ –ò–∑–≤–ª–µ–∫–∞—Ç—å `uid` –∏ `email` –∏–∑ —Ç–æ–∫–µ–Ω–∞
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:
  - `/messages/global` - –≥–ª–æ–±–∞–ª—å–Ω—ã–π —á–∞—Ç
  - `/messages/private/{userId}` - –ø—Ä–∏–≤–∞—Ç–Ω—ã–π —á–∞—Ç
  - `/social/search` - –ø–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  - `/social/follow/{userId}` - –ø–æ–¥–ø–∏—Å–∫–∞
  - `/social/unfollow/{userId}` - –æ—Ç–ø–∏—Å–∫–∞
  - `/social/like/{userId}` - –ª–∞–π–∫
  - `/social/unlike/{userId}` - —É–±—Ä–∞—Ç—å –ª–∞–π–∫
  - `/social/profile` - –ø—Ä–æ—Ñ–∏–ª—å
  - `/upload/avatar` - –∑–∞–≥—Ä—É–∑–∫–∞ –∞–≤–∞—Ç–∞—Ä–∞

### 2. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```env
NEXT_PUBLIC_API_URL=https://your-vps-domain.com/api
NEXT_PUBLIC_USE_API_BACKEND=true
```

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å C# Backend –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ Firebase —Ç–æ–∫–µ–Ω–æ–≤
2. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ production
3. ‚è≥ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å WebSocket –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
4. ‚è≥ –î–æ–±–∞–≤–∏—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ C# API

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–∏

- ‚úÖ **–ß–∞—Ç**: 100% –ø–µ—Ä–µ–≤–µ–¥–µ–Ω –Ω–∞ C# API
- ‚úÖ **–ü—Ä–æ—Ñ–∏–ª–∏**: 100% –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã –Ω–∞ C# API
- ‚úÖ **–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**: 100% –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã –Ω–∞ C# API
- ‚úÖ **–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤**: 100% –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–∞ –Ω–∞ C# API
- ‚úÖ **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: –û—Å—Ç–∞–µ—Ç—Å—è –Ω–∞ Firebase (–∫–∞–∫ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–ª–æ—Å—å)

---

**üéâ –ú–∏–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞!** –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ—Ü–∏–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ C# Backend, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–∞ Firebase.




