# Исправление подключения к C# бэкенду

## Проблема

Ошибка: "Не удалось подключиться к серверу"
API URL: `http://213.199.56.27:5000/api`
Ошибка: `fetch failed`

## Возможные причины

### 1. C# API не запущен
Проверьте на VPS:
```bash
docker ps  # Должен быть контейнер backend-api
docker logs backend-api  # Проверьте логи
```

### 2. Порт 5000 не открыт
Проверьте файрвол:
```bash
sudo ufw status
sudo ufw allow 5000/tcp
```

### 3. Используется HTTP вместо HTTPS
Vercel может блокировать HTTP запросы. Нужно использовать HTTPS через nginx.

### 4. Nginx не настроен
Nginx должен проксировать запросы к C# API.

## Решение

### Вариант 1: Использовать домен через HTTPS (рекомендуется)

Вместо `http://213.199.56.27:5000/api` использовать:
```
https://your-domain.com/api
```

И настроить nginx для проксирования.

### Вариант 2: Временно сохранять пользователя локально

Если бэкенд недоступен, можно временно сохранять пользователя в localStorage без обращения к бэкенду.

### Вариант 3: Проверить настройки CORS

В C# API должны быть разрешены запросы с домена Vercel.

## Проверка

1. Откройте в браузере: `http://213.199.56.27:5000/health`
   - Если не открывается - API не запущен или порт закрыт

2. Проверьте логи Docker:
   ```bash
   docker logs backend-api
   ```

3. Проверьте nginx конфигурацию:
   ```bash
   sudo nginx -t
   cat /etc/nginx/sites-available/default
   ```


