# ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω–∞

## üìä –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL –Ω–∞ VPS —Ç–µ–ø–µ—Ä—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∫–æ–ª–ª–µ–∫—Ü–∏—è–º Firebase:

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã:

1. **Users** (—Ä–∞—Å—à–∏—Ä–µ–Ω–∞)
   - –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è: `nickname`, `achievements`, `privacy`, `stats`, `bio`
   - –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∫–æ–ª–ª–µ–∫—Ü–∏–∏ `users` –≤ Firebase

2. **Subscriptions**
   - `following` (JSONB) - –º–∞—Å—Å–∏–≤ UUID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞ –∫–æ—Ç–æ—Ä—ã—Ö –ø–æ–¥–ø–∏—Å–∞–Ω
   - `followers` (JSONB) - –º–∞—Å—Å–∏–≤ UUID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥–ø–∏—Å–∞–Ω—ã
   - –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∫–æ–ª–ª–µ–∫—Ü–∏–∏ `subscriptions` –≤ Firebase

3. **Messages**
   - –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è: `receiver_id` —É–∫–∞–∑–∞–Ω
   - –ì–ª–æ–±–∞–ª—å–Ω—ã–π —á–∞—Ç: `receiver_id = NULL`
   - –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∫–æ–ª–ª–µ–∫—Ü–∏—è–º `chat_messages` –∏ `global_chat` –≤ Firebase

4. **ProfileLikes**
   - `liked_by` (JSONB) - –º–∞—Å—Å–∏–≤ UUID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∫–æ—Ç–æ—Ä—ã–µ –ª–∞–π–∫–Ω—É–ª–∏
   - `count` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–∞–π–∫–æ–≤
   - –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∫–æ–ª–ª–µ–∫—Ü–∏–∏ `profile_likes` –≤ Firebase

5. **BlogPosts**
   - –ë–ª–æ–≥ –ø–æ—Å—Ç—ã —Å –ø–æ–ª—è–º–∏: title, slug, content, author, tags –∏ —Ç.–¥.
   - –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∫–æ–ª–ª–µ–∫—Ü–∏–∏ `blog_posts` –≤ Firebase

6. **Projects**
   - –ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ –ø—Ä–æ–µ–∫—Ç—ã —Å –ø–æ–ª—è–º–∏: title, type, author, technologies –∏ —Ç.–¥.
   - –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∫–æ–ª–ª–µ–∫—Ü–∏–∏ `projects` –≤ Firebase

7. **Reviews**
   - –û—Ç–∑—ã–≤—ã –æ –ø—Ä–æ–µ–∫—Ç–∞—Ö —Å –ø–æ–ª—è–º–∏: author, rating, text, photo_url –∏ —Ç.–¥.
   - –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∫–æ–ª–ª–µ–∫—Ü–∏–∏ `reviews` –≤ Firebase

8. **ProjectRequests**
   - –ó–∞—è–≤–∫–∏ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–≤
   - –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∫–æ–ª–ª–µ–∫—Ü–∏–∏ `project_requests` –≤ Firebase

9. **ChatHistory**
   - –ò—Å—Ç–æ—Ä–∏—è AI —á–∞—Ç–∞
   - –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∫–æ–ª–ª–µ–∫—Ü–∏–∏ `chat_history` –≤ Firebase

10. **ProjectComments**
    - –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø—Ä–æ–µ–∫—Ç–∞–º
    - –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∫–æ–ª–ª–µ–∫—Ü–∏–∏ `project_comments` –≤ Firebase

11. **EmailSubscriptions**
    - –ü–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ email —Ä–∞—Å—Å—ã–ª–∫—É
    - –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∫–æ–ª–ª–µ–∫—Ü–∏–∏ `email_subscriptions` –≤ Firebase

12. **PromoCodes**
    - –ü—Ä–æ–º–æ–∫–æ–¥—ã
    - –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∫–æ–ª–ª–µ–∫—Ü–∏–∏ `promo_codes` –≤ Firebase

13. **UserProfiles**
    - –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª—è

14. **uid_mapping**
    - –ú–∞–ø–ø–∏–Ω–≥ Firebase UID ‚Üí PostgreSQL UUID
    - –î–ª—è —Å–≤—è–∑–∏ Firebase Authentication —Å PostgreSQL –¥–∞–Ω–Ω—ã–º–∏

### –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã (–Ω–µ –∏–∑–º–µ–Ω–µ–Ω—ã):

- **Courses** - –∫—É—Ä—Å—ã
- **Chapters** - –≥–ª–∞–≤—ã –∫—É—Ä—Å–æ–≤
- **Lessons** - —É—Ä–æ–∫–∏
- **UserProgress** - –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ –∫—É—Ä—Å–∞–º

## üîß –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

1. **JSONB –ø–æ–ª—è** –¥–ª—è –º–∞—Å—Å–∏–≤–æ–≤ –∏ –æ–±—ä–µ–∫—Ç–æ–≤:
   - `achievements`, `privacy`, `stats` –≤ Users
   - `following`, `followers` –≤ Subscriptions
   - `liked_by` –≤ ProfileLikes
   - `tags`, `technologies`, `images` –≤ BlogPosts –∏ Projects

2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã** –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è `updated_at`

3. **–ò–Ω–¥–µ–∫—Å—ã** –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤:
   - –ü–æ user_id, created_at, —Å—Ç–∞—Ç—É—Å–∞–º –∏ —Ç.–¥.

4. **–í–Ω–µ—à–Ω–∏–µ –∫–ª—é—á–∏** –¥–ª—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î —Å–æ–∑–¥–∞–Ω–∞
2. ‚è≥ –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å frontend –∫–æ–¥ –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ C# API
3. ‚è≥ –û–±–Ω–æ–≤–∏—Ç—å `lib/firebase/users.ts` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å C# API
4. ‚è≥ –£–±—Ä–∞—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ AI —á–∞—Ç–∞ –≤ Firestore

## üîó –°–≤—è–∑—å Firebase UID —Å PostgreSQL UUID

–î–ª—è —Å–≤—è–∑–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ Firebase Authentication —Å –¥–∞–Ω–Ω—ã–º–∏ –≤ PostgreSQL –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–∞–±–ª–∏—Ü–∞ `uid_mapping`:

```sql
-- –ü—Ä–∏–º–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è –º–∞–ø–ø–∏–Ω–≥–∞
INSERT INTO uid_mapping (firebase_uid, uuid) 
VALUES ('firebase-uid-here', gen_random_uuid());
```

---

*–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–∑–¥–∞–Ω–∞: $(Get-Date -Format "yyyy-MM-dd HH:mm:ss")*

